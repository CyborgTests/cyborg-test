(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("@playwright/test"),require("playwright")):typeof define=="function"&&define.amd?define(["@playwright/test","playwright"],s):(e=typeof globalThis<"u"?globalThis:e||self,e["@cyborgtests/test"]=s(e.playwrightTest,e.playwright))})(this,function(e,s){"use strict";class u extends Error{constructor(r){super(r),this.name="TestFailedError"}}const n=e.test.extend({testControl:async({page:t,context:r,browser:d},l)=>{const i=await s.chromium.launch({headless:!1}),a=await i.newPage({viewport:{width:500,height:700}});await a.goto("file://"+process.cwd()+"/node_modules/@cyborgtests/test/app-build/index.html"),await a.bringToFront(),await l({browser:i,context:a.context(),page:a}),await a.close(),await a.context().close(),await i.close()},manualStep:async({testControl:t,page:r,browser:d,context:l},i)=>{await i(async c=>await n.step(c,async()=>{await t.page.evaluate(w=>{var o;(o=window==null?void 0:window.testUtils)==null||o.setTestName(w)},n.info().title),await t.page.evaluate(w=>{var o;(o=window==null?void 0:window.testUtils)==null||o.addStep(w)},c),console.log("pause","pause"),await t.page.pause();const p=await t.page.locator("#stepsList li:last-of-type").textContent();if(console.log("lastStep",p),p.includes("‚ùå"))throw new u(p)},{box:!0}));try{await t.page.evaluate("playwright.resume()")}catch{}}});return n});
//# sourceMappingURL=index.umd.js.map
